name: "Complete Workout Flow"
description: |
  Tests the full user journey from creating a workout template
  through completing a workout session.

preconditions:
  - "App is loaded and database is initialized"
  - "No existing templates"

steps:
  - id: create-template
    action: click
    target: "Create Your First Template"
    expect:
      - url_contains: "/template/"

  - id: fill-template-name
    action: fill
    target: "input[placeholder*='Push Day' i], input[placeholder*='Leg Day' i]"
    value: "Push Day"

  - id: add-exercise
    action: click
    target: "+ Add Exercise"

  - id: name-exercise
    action: fill
    target: "input[placeholder='Exercise name']"
    value: "Bench Press"

  - id: save-template
    action: click
    target: "Create Template"
    expect:
      - url: "/"
      - visible: "Push Day"

  - id: start-workout
    action: click
    target: "Start Workout"
    expect:
      - url_contains: "/workout/"

  - id: verify-workout-started
    action: wait
    target: "2000"
    expect:
      - visible: "Finish Workout"

postconditions:
  - "Workout session is active"

tags: [smoke, critical, workout]
