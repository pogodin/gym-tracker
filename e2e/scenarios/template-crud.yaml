name: "Template CRUD Operations"
description: |
  Tests creating a workout template with multiple exercises.
  Ensures the template management flow works correctly.

preconditions:
  - "App is loaded and database is initialized"
  - "No existing templates"

steps:
  - id: click-create-template
    action: click
    target: "Create Your First Template"
    expect:
      - url_contains: "/template/"

  - id: enter-template-name
    action: fill
    target: "input[placeholder*='Push Day' i], input[placeholder*='Leg Day' i]"
    value: "Leg Day"

  - id: add-first-exercise
    action: click
    target: "+ Add Exercise"

  - id: name-first-exercise
    action: fill
    target: "input[placeholder='Exercise name']"
    value: "Squats"

  - id: add-second-exercise
    action: click
    target: "+ Add Exercise"

  - id: name-second-exercise
    action: fill
    target: "input[placeholder='Exercise name'] >> nth=-1"
    value: "Lunges"

  - id: save-new-template
    action: click
    target: "Create Template"
    expect:
      - url: "/"
      - visible: "Leg Day"

postconditions:
  - "Template is created and visible on home page"

tags: [crud, template]
