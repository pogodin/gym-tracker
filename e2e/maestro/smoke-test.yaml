# Full Smoke Test - Complete User Journey
# Tests the entire app flow from template creation to workout completion

appId: com.gymtracker.app
tags:
  - smoke
  - critical
---

# ========== HOME SCREEN ==========
- launchApp:
    clearState: true

- assertVisible: "Gym Tracker"
- takeScreenshot: 01-home-empty

# ========== CREATE TEMPLATE ==========
- tapOn: "+ New Template"
- waitForAnimationToEnd

- assertVisible: "Template Name"
- tapOn: "Template Name"
- inputText: "Leg Day"
- hideKeyboard
- waitForAnimationToEnd

# Add first exercise
- tapOn: "+ Add Exercise"
- waitForAnimationToEnd
- tapOn: "Exercise 1"
- inputText: "Squats"
- hideKeyboard
- waitForAnimationToEnd

# Add second exercise
- tapOn: "+ Add Exercise"
- waitForAnimationToEnd
- tapOn: "Exercise 2"
- inputText: "Romanian Deadlift"
- hideKeyboard
- waitForAnimationToEnd

# Add third exercise
- tapOn: "+ Add Exercise"
- waitForAnimationToEnd
- tapOn: "Exercise 3"
- inputText: "Leg Press"
- hideKeyboard
- waitForAnimationToEnd

- scroll
- takeScreenshot: 02-template-filled
- tapOn: "Create Template"
- waitForAnimationToEnd

# ========== VERIFY TEMPLATE CREATED ==========
- extendedWaitUntil:
    visible: "Leg Day"
    timeout: 10000
- takeScreenshot: 03-template-created

# ========== START WORKOUT ==========
- tapOn:
    text: ".*Start.*"
- waitForAnimationToEnd
- takeScreenshot: 04-workout-started

# ========== FINISH WORKOUT ==========
- hideKeyboard
- waitForAnimationToEnd
- scroll:
    direction: DOWN
- waitForAnimationToEnd

- extendedWaitUntil:
    visible:
      id: "finish-workout"
    timeout: 5000

- tapOn:
    id: "finish-workout"

- extendedWaitUntil:
    visible: "Are you sure you want to finish"
    timeout: 5000
- takeScreenshot: 04b-finish-confirm-dialog

- tapOn: "Finish"
- waitForAnimationToEnd

- extendedWaitUntil:
    visible: "Gym Tracker"
    timeout: 5000
- takeScreenshot: 05-test-complete
